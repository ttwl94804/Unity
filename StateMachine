using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class State
{
    public string type;
    public StateMachine stateMachine;
    public State(string type)
    {
        this.type = type;
    }
    public virtual void Enter()
    {
    }
    public virtual void Updata()
    {
    }
    public virtual void End()
    {
    }
    public virtual void KeyOn(string keyName)
    {

    }
    public virtual void KeyDown(string keyName)
    {

    }
    public virtual void KeyUp(string keyName)
    {

    }
    public virtual void OnAniamtionEven(string name)
    {

    }
}
public class StateMachine
{
    public State[] states;
    public State currentState;
    public StateMachine(State[] states)
    {
        this.states = states;
        currentState = states[0];
        currentState.Enter();
    }
    public void SwitchState(string type)
    {
        for (int i = 0; i < states.Length; i++)
        {
            if (states[i].type == type)
            {
                currentState.End();
                currentState = states[i];
                currentState.Enter();
            }
        }
    }
    public void Updata()
    {
        currentState.Updata();
    }
}
